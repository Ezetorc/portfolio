---
import { getLangFromUrl } from "../utilities/getLangFromUrl";
import { useTranslations } from "../utilities/useTranslations";
import HeaderLink from "./HeaderLink.astro";
import MoonIcon from "./icons/MoonIcon.astro";
import OptionsIcon from "./icons/OptionsIcon.astro";
import LanguageSelector from "./LanguageSelector";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<header
  class="sticky top-0 left-0 w-full mobile:h-[72px] desktop:h-[90px] border-b-highlight border-b-1 bg-header flex items-center justify-center drop-shadow-2xl z-50 px-4"
>
  <div class="w-full mobile:px-4 max-w-[1280px] min-w-[320px] flex justify-between items-center">
    <div>
      <h2
        class="text-white mobile:text-[16px] desktop:text-[24px] font-poppins-semibold"
      >
        Ezequias Torczuk
      </h2>

      <h3 class="text-muted mobile:text-[14px] desktop:text-[20px]">
        {t("header.subtitle")}
      </h3>
    </div>

    <div class="flex items-center mobile:gap-x-[10px] desktop:gap-x-[24px]">
      <nav
        class="mobile:hidden desktop:flex items-center mobile:gap-x-[10px] desktop:gap-x-[24px]"
      >
        <HeaderLink href="#work">{t("header.work")}</HeaderLink>
        <HeaderLink href="#about-me">{t("header.about-me")}</HeaderLink>
        <HeaderLink href="#contact">{t("header.contact")}</HeaderLink>
        <HeaderLink href="#technologies">{t("header.technologies")}</HeaderLink>
      </nav>

      <button
        class="rounded-full hover:bg-gray-700 transition-colors cursor-pointer"
      >
        <MoonIcon />
      </button>

      <LanguageSelector currentLang={lang} client:load />

      <button
        class="desktop:hidden desktop:cursor-pointer desktop:hover:brightness-110"
      >
        <OptionsIcon />
      </button>
    </div>
  </div>
</header>
