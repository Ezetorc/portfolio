---
import {
  DISCORD,
  EMAIL,
  FORM_LINK,
} from "../configuration/contact.configuration";
import { getLangFromUrl } from "../utilities/getLangFromUrl";
import { useTranslations } from "../utilities/useTranslations";
import CopyButton from "./CopyButton.astro";
import H2 from "./H2.astro";
import Paragraph from "./Paragraph.astro";
import PrimaryButton from "./PrimaryButton.astro";
import Section from "./Section.astro";
import Subheading from "./Subheading.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Section id="contact">
  <H2>{t("contact-me.title")}</H2>
  <Subheading>{t("contact-me.subtitle")}</Subheading>

  <Paragraph class="mt-[24px] max-w-[550px]">
    {t("contact-me.instructions")}
  </Paragraph>

  <div class="flex gap-x-[32px] mt-[48px]">
    <CopyButton label={t("contact-me.copy-discord")} text={DISCORD} />
    <CopyButton label={t("contact-me.copy-email")} text={EMAIL} />
  </div>

  <form
    class="bg-light-bg w-full mobile:p-4 tablet:p-9 flex flex-col gap-y-[40px] mt-11 rounded-default"
    action={FORM_LINK}
    method="POST"
  >
    <input
      class="w-full font-poppins-regular p-4 text-primary-text placeholder:text-placeholder h-16 mobile:text-[20px] tablet:text-[24px] bg-input-bg rounded-default"
      type="email"
      name="email"
      placeholder={t("contact-me.email-placeholder")}
      required
    />

    <textarea
      class="w-full font-poppins-regular p-4 text-primary-text placeholder:text-placeholder mobile:text-[20px] tablet:text-[24px] bg-input-bg rounded-default h-[290px] resize-none"
      placeholder={t("contact-me.message-placeholder")}
      name="message"
      required></textarea>

    <PrimaryButton>{t("contact-me.send-message")}</PrimaryButton>
  </form>
</Section>
